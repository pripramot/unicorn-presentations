"use strict";(globalThis.webpackChunkc_users_us_er_project_unicorn_docs=globalThis.webpackChunkc_users_us_er_project_unicorn_docs||[]).push([[2465],{4598(e,n,a){a.r(n),a.d(n,{default:()=>v});var s=a(6540),t=a(1656),i=a(3611),r=a(4848);const l=(0,i.UU)("https://lpaqjhrjuokvhsdegynn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxwYXFqaHJqdW9rdmhzZGVneW5uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2NjIxMzgsImV4cCI6MjA4MDIzODEzOH0.VtWNvXB8mMhOeg9GOwd3s6MjwxDjoMbS5cOW4wLe7WQ"),o="#0084FF",d="#E4E6EB",c="#050505",p="#65676B",u="#FFFFFF",h="#31A24C",x="#F7B928",m="#FA383E",g=`\n  .messenger-admin {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;\n    background: ${"#F0F2F5"};\n    min-height: 100vh;\n  }\n  .messenger-header {\n    background: ${u};\n    padding: 16px 24px;\n    border-bottom: 1px solid ${d};\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    position: sticky;\n    top: 60px;\n    z-index: 100;\n  }\n  .messenger-header h1 {\n    font-size: 24px;\n    font-weight: 700;\n    color: ${c};\n    margin: 0;\n  }\n  .messenger-sidebar {\n    width: 360px;\n    background: ${u};\n    border-right: 1px solid ${d};\n    height: calc(100vh - 120px);\n    overflow-y: auto;\n    position: fixed;\n    left: 0;\n    top: 120px;\n  }\n  .messenger-main {\n    margin-left: 360px;\n    padding: 20px;\n    min-height: calc(100vh - 120px);\n  }\n  .chat-item {\n    display: flex;\n    align-items: center;\n    padding: 12px 16px;\n    cursor: pointer;\n    transition: background 0.2s;\n    border-radius: 8px;\n    margin: 4px 8px;\n  }\n  .chat-item:hover {\n    background: ${d};\n  }\n  .chat-item.active {\n    background: ${d};\n  }\n  .chat-avatar {\n    width: 56px;\n    height: 56px;\n    border-radius: 50%;\n    object-fit: cover;\n    margin-right: 12px;\n  }\n  .chat-info {\n    flex: 1;\n  }\n  .chat-name {\n    font-weight: 600;\n    color: ${c};\n    font-size: 15px;\n  }\n  .chat-preview {\n    color: ${p};\n    font-size: 13px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .status-badge {\n    padding: 4px 12px;\n    border-radius: 20px;\n    font-size: 12px;\n    font-weight: 600;\n    text-transform: uppercase;\n  }\n  .status-available {\n    background: #E7F5EC;\n    color: ${h};\n  }\n  .status-rented {\n    background: #FFF3E0;\n    color: ${x};\n  }\n  .status-maintenance {\n    background: #FFEBEE;\n    color: ${m};\n  }\n  .card {\n    background: ${u};\n    border-radius: 12px;\n    padding: 20px;\n    margin-bottom: 16px;\n    box-shadow: 0 1px 2px rgba(0,0,0,0.1);\n  }\n  .btn {\n    padding: 10px 20px;\n    border-radius: 20px;\n    font-weight: 600;\n    cursor: pointer;\n    border: none;\n    transition: all 0.2s;\n  }\n  .btn-primary {\n    background: ${o};\n    color: white;\n  }\n  .btn-primary:hover {\n    background: #006ACC;\n  }\n  .btn-secondary {\n    background: ${d};\n    color: ${c};\n  }\n  .input-group {\n    margin-bottom: 16px;\n  }\n  .input-group label {\n    display: block;\n    margin-bottom: 6px;\n    font-weight: 500;\n    color: ${c};\n  }\n  .input-group input, .input-group select {\n    width: 100%;\n    padding: 12px 16px;\n    border: 1px solid ${d};\n    border-radius: 20px;\n    font-size: 15px;\n    transition: border-color 0.2s;\n  }\n  .input-group input:focus, .input-group select:focus {\n    outline: none;\n    border-color: ${o};\n  }\n  .search-box {\n    background: ${d};\n    border: none;\n    border-radius: 20px;\n    padding: 10px 16px;\n    width: 100%;\n    margin: 12px 16px;\n    width: calc(100% - 32px);\n  }\n  .modal-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0,0,0,0.5);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 1000;\n  }\n  .modal {\n    background: white;\n    border-radius: 12px;\n    padding: 24px;\n    width: 480px;\n    max-height: 80vh;\n    overflow-y: auto;\n  }\n  .modal h2 {\n    margin-top: 0;\n  }\n  .stats-grid {\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    gap: 16px;\n    margin-bottom: 20px;\n  }\n  .stat-card {\n    background: ${u};\n    border-radius: 12px;\n    padding: 20px;\n    text-align: center;\n  }\n  .stat-value {\n    font-size: 32px;\n    font-weight: 700;\n    color: ${o};\n  }\n  .stat-label {\n    color: ${p};\n    font-size: 14px;\n    margin-top: 4px;\n  }\n`;function b({vehicle:e,onClose:n,onSave:a}){const[t,i]=(0,s.useState)(e||{plate:"",brand:"",model:"",year:(new Date).getFullYear(),color:"",daily_rate:0,status:"available",image_url:""});return(0,r.jsx)("div",{className:"modal-overlay",onClick:n,children:(0,r.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("h2",{children:e?"\u270f\ufe0f \u0e41\u0e01\u0e49\u0e44\u0e02\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e23\u0e16":"\ud83d\ude97 \u0e40\u0e1e\u0e34\u0e48\u0e21\u0e23\u0e16\u0e43\u0e2b\u0e21\u0e48"}),(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),a(t)},children:[(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)("label",{children:"\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e23\u0e16"}),(0,r.jsx)("input",{type:"text",value:t.plate,onChange:e=>i({...t,plate:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)("label",{children:"\u0e22\u0e35\u0e48\u0e2b\u0e49\u0e2d"}),(0,r.jsx)("input",{type:"text",value:t.brand,onChange:e=>i({...t,brand:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)("label",{children:"\u0e23\u0e38\u0e48\u0e19"}),(0,r.jsx)("input",{type:"text",value:t.model,onChange:e=>i({...t,model:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)("label",{children:"\u0e1b\u0e35"}),(0,r.jsx)("input",{type:"number",value:t.year,onChange:e=>i({...t,year:parseInt(e.target.value)})})]}),(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)("label",{children:"\u0e2a\u0e35"}),(0,r.jsx)("input",{type:"text",value:t.color,onChange:e=>i({...t,color:e.target.value})})]})]}),(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)("label",{children:"\u0e23\u0e32\u0e04\u0e32\u0e40\u0e0a\u0e48\u0e32/\u0e27\u0e31\u0e19 (\u0e1a\u0e32\u0e17)"}),(0,r.jsx)("input",{type:"number",value:t.daily_rate,onChange:e=>i({...t,daily_rate:parseFloat(e.target.value)}),required:!0})]}),(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)("label",{children:"\u0e2a\u0e16\u0e32\u0e19\u0e30"}),(0,r.jsxs)("select",{value:t.status,onChange:e=>i({...t,status:e.target.value}),children:[(0,r.jsx)("option",{value:"available",children:"\u0e27\u0e48\u0e32\u0e07"}),(0,r.jsx)("option",{value:"rented",children:"\u0e16\u0e39\u0e01\u0e40\u0e0a\u0e48\u0e32"}),(0,r.jsx)("option",{value:"maintenance",children:"\u0e0b\u0e48\u0e2d\u0e21\u0e1a\u0e33\u0e23\u0e38\u0e07"})]})]}),(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)("label",{children:"\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e (URL)"}),(0,r.jsx)("input",{type:"url",value:t.image_url,onChange:e=>i({...t,image_url:e.target.value})})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"20px"},children:[(0,r.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:n,children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),(0,r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"\ud83d\udcbe \u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"})]})]})]})})}function v(){const[e,n]=(0,s.useState)([]),[a,i]=(0,s.useState)(null),[o,c]=(0,s.useState)(!1),[u,v]=(0,s.useState)(null),[j,y]=(0,s.useState)(""),[f,w]=(0,s.useState)(!1),[N,C]=(0,s.useState)({email:"",password:""}),[k,_]=(0,s.useState)(!0),$="admin@gts.services";(0,s.useEffect)(()=>{F(),I();const e=l.channel("admin-vehicles").on("postgres_changes",{event:"*",schema:"public",table:"vehicles"},()=>{I()}).subscribe();return()=>{l.removeChannel(e)}},[]);const F=async()=>{const{data:{session:e}}=await l.auth.getSession();e?.user?.email===$&&w(!0),_(!1)},S=async e=>{e.preventDefault(),_(!0);const{data:n,error:a}=await l.auth.signInWithPassword({email:N.email,password:N.password});a?alert("\u274c Login \u0e44\u0e21\u0e48\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08: "+a.message):n.user&&w(!0),_(!1)},I=async()=>{const{data:e,error:s}=await l.from("vehicles").select("*").order("brand");!s&&e&&(n(e),!a&&e.length>0&&i(e[0]))},z=e.filter(e=>e.brand?.toLowerCase().includes(j.toLowerCase())||e.model?.toLowerCase().includes(j.toLowerCase())||e.plate?.toLowerCase().includes(j.toLowerCase())),L={total:e.length,available:e.filter(e=>"available"===e.status).length,rented:e.filter(e=>"rented"===e.status).length,maintenance:e.filter(e=>"maintenance"===e.status).length};return f||k?(0,r.jsxs)(t.A,{title:"Admin Dashboard",children:[(0,r.jsx)("style",{children:g}),(0,r.jsxs)("div",{className:"messenger-admin",children:[(0,r.jsxs)("div",{className:"messenger-header",children:[(0,r.jsx)("h1",{children:"\ud83d\udcac GTS Car Rental Admin"}),(0,r.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,r.jsx)("a",{href:"/admin/archives",className:"btn btn-secondary",style:{textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:"\ud83d\udce6 Archives"}),(0,r.jsx)("button",{className:"btn btn-primary",onClick:()=>{v(null),c(!0)},children:"\u2795 \u0e40\u0e1e\u0e34\u0e48\u0e21\u0e23\u0e16"})]})]}),(0,r.jsxs)("div",{className:"messenger-sidebar",children:[(0,r.jsx)("input",{type:"text",className:"search-box",placeholder:"\ud83d\udd0d \u0e04\u0e49\u0e19\u0e2b\u0e32\u0e23\u0e16...",value:j,onChange:e=>y(e.target.value)}),z.map(e=>(0,r.jsxs)("div",{className:"chat-item "+(a?.id===e.id?"active":""),onClick:()=>i(e),children:[(0,r.jsx)("img",{src:e.image_url||"https://via.placeholder.com/56",alt:e.model,className:"chat-avatar"}),(0,r.jsxs)("div",{className:"chat-info",children:[(0,r.jsxs)("div",{className:"chat-name",children:[e.brand," ",e.model]}),(0,r.jsxs)("div",{className:"chat-preview",children:[e.plate," \u2022 \u0e3f",e.daily_rate?.toLocaleString(),"/\u0e27\u0e31\u0e19"]})]}),(0,r.jsx)("span",{className:`status-badge status-${e.status}`,children:"available"===e.status?"\u0e27\u0e48\u0e32\u0e07":"rented"===e.status?"\u0e40\u0e0a\u0e48\u0e32":"\u0e0b\u0e48\u0e2d\u0e21"})]},e.id))]}),(0,r.jsxs)("div",{className:"messenger-main",children:[(0,r.jsxs)("div",{className:"stats-grid",children:[(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("div",{className:"stat-value",children:L.total}),(0,r.jsx)("div",{className:"stat-label",children:"\ud83d\ude97 \u0e23\u0e16\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"})]}),(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("div",{className:"stat-value",style:{color:h},children:L.available}),(0,r.jsx)("div",{className:"stat-label",children:"\u2705 \u0e27\u0e48\u0e32\u0e07"})]}),(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("div",{className:"stat-value",style:{color:x},children:L.rented}),(0,r.jsx)("div",{className:"stat-label",children:"\ud83d\udccb \u0e16\u0e39\u0e01\u0e40\u0e0a\u0e48\u0e32"})]}),(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("div",{className:"stat-value",style:{color:m},children:L.maintenance}),(0,r.jsx)("div",{className:"stat-label",children:"\ud83d\udd27 \u0e0b\u0e48\u0e2d\u0e21\u0e1a\u0e33\u0e23\u0e38\u0e07"})]})]}),a&&(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{style:{display:"flex",gap:20},children:[(0,r.jsx)("img",{src:a.image_url||"https://via.placeholder.com/200",alt:a.model,style:{width:200,height:150,objectFit:"cover",borderRadius:12}}),(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsxs)("h2",{style:{margin:0},children:[a.brand," ",a.model]}),(0,r.jsxs)("p",{style:{color:p},children:["\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19: ",a.plate]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginTop:16},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"\u0e1b\u0e35:"})," ",a.year]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"\u0e2a\u0e35:"})," ",a.color]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"\u0e23\u0e32\u0e04\u0e32:"})," \u0e3f",a.daily_rate?.toLocaleString(),"/\u0e27\u0e31\u0e19"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"\u0e2a\u0e16\u0e32\u0e19\u0e30:"}),(0,r.jsx)("span",{className:`status-badge status-${a.status}`,style:{marginLeft:8},children:a.status})]})]}),(0,r.jsxs)("div",{style:{marginTop:20,display:"flex",gap:12},children:[(0,r.jsx)("button",{className:"btn btn-primary",onClick:()=>{v(a),c(!0)},children:"\u270f\ufe0f \u0e41\u0e01\u0e49\u0e44\u0e02"}),(0,r.jsx)("button",{className:"btn btn-secondary",style:{color:m},onClick:()=>(async e=>{confirm("\u26a0\ufe0f \u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e23\u0e16\u0e04\u0e31\u0e19\u0e19\u0e35\u0e49?")&&(await l.from("vehicles").delete().eq("id",e),i(null),I())})(a.id),children:"\ud83d\uddd1\ufe0f \u0e25\u0e1a"})]})]})]}),a.current_location&&(0,r.jsxs)("div",{style:{marginTop:20},children:[(0,r.jsx)("h3",{children:"\ud83d\udccd \u0e15\u0e33\u0e41\u0e2b\u0e19\u0e48\u0e07\u0e1b\u0e31\u0e08\u0e08\u0e38\u0e1a\u0e31\u0e19"}),(0,r.jsxs)("div",{style:{background:d,borderRadius:12,padding:20,textAlign:"center"},children:[(0,r.jsxs)("p",{children:["Lat: ",a.current_location.lat,", Lng: ",a.current_location.lng]}),(0,r.jsx)("a",{href:`https://www.google.com/maps?q=${a.current_location.lat},${a.current_location.lng}`,target:"_blank",className:"btn btn-primary",children:"\ud83d\uddfa\ufe0f \u0e14\u0e39\u0e1a\u0e19 Google Maps"})]})]})]})]}),o&&(0,r.jsx)(b,{vehicle:u,onClose:()=>{c(!1),v(null)},onSave:async e=>{e.id?await l.from("vehicles").update(e).eq("id",e.id):await l.from("vehicles").insert(e),c(!1),v(null),I()}})]})]}):(0,r.jsxs)(t.A,{title:"Admin Login",children:[(0,r.jsx)("style",{children:g}),(0,r.jsx)("div",{className:"messenger-admin",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsxs)("div",{className:"card",style:{width:400,textAlign:"center"},children:[(0,r.jsx)("h1",{style:{marginBottom:8},children:"\ud83d\udcac GTS Admin"}),(0,r.jsx)("p",{style:{color:p,marginBottom:24},children:"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e23\u0e16\u0e40\u0e0a\u0e48\u0e32"}),(0,r.jsxs)("form",{onSubmit:S,children:[(0,r.jsx)("div",{className:"input-group",children:(0,r.jsx)("input",{type:"email",placeholder:"\ud83d\udce7 Email",value:N.email,onChange:e=>C({...N,email:e.target.value}),required:!0})}),(0,r.jsx)("div",{className:"input-group",children:(0,r.jsx)("input",{type:"password",placeholder:"\ud83d\udd12 Password",value:N.password,onChange:e=>C({...N,password:e.target.value}),required:!0})}),(0,r.jsx)("button",{type:"submit",className:"btn btn-primary",style:{width:"100%"},children:"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"})]}),(0,r.jsxs)("p",{style:{marginTop:16,fontSize:12,color:p},children:["Demo: ",$," / ","GTS@Admin2024!"]})]})})]})}}}]);