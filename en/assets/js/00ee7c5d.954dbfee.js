"use strict";(globalThis.webpackChunkc_users_us_er_project_unicorn_docs=globalThis.webpackChunkc_users_us_er_project_unicorn_docs||[]).push([[6224],{274(e,s,a){a.r(s),a.d(s,{default:()=>t});var d=a(6540),l=a(1656),c=a(7702),r=a(4848);function t(){const[e,s]=(0,d.useState)([]),[a,t]=(0,d.useState)(!0),i=async()=>{const{data:e,error:a}=await c.N.from("vehicles").select("*").order("plate");e&&s(e),t(!1)};(0,d.useEffect)(()=>{i();const e=c.N.channel("vehicle-updates").on("postgres_changes",{event:"*",schema:"public",table:"vehicles"},e=>{console.log("Realtime Update:",e),i()}).subscribe();return()=>{c.N.removeChannel(e)}},[]);const n=e.length,h=e.filter(e=>"available"===e.status).length,o=e.filter(e=>"rented"===e.status).length;return(0,r.jsx)(l.A,{title:"Dashboard",description:"Big Brother Car Rental Monitoring",children:(0,r.jsxs)("div",{className:"container margin-vert--lg",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("div",{className:"col col--12 margin-bottom--md",children:[(0,r.jsx)("h1",{className:"text--center",children:"\ud83d\ude97 Big Brother Dashboard"}),(0,r.jsx)("p",{className:"text--center",children:"Real-time Vehicle Monitoring System"})]})}),(0,r.jsxs)("div",{className:"row margin-bottom--lg",children:[(0,r.jsx)("div",{className:"col col--4",children:(0,r.jsx)("div",{className:"card shadow--md",style:{borderLeft:"5px solid #4CAF50"},children:(0,r.jsxs)("div",{className:"card__body text--center",children:[(0,r.jsx)("h3",{children:"Available"}),(0,r.jsx)("h2",{children:h})]})})}),(0,r.jsx)("div",{className:"col col--4",children:(0,r.jsx)("div",{className:"card shadow--md",style:{borderLeft:"5px solid #FF9800"},children:(0,r.jsxs)("div",{className:"card__body text--center",children:[(0,r.jsx)("h3",{children:"Rented"}),(0,r.jsx)("h2",{children:o})]})})}),(0,r.jsx)("div",{className:"col col--4",children:(0,r.jsx)("div",{className:"card shadow--md",style:{borderLeft:"5px solid #2196F3"},children:(0,r.jsxs)("div",{className:"card__body text--center",children:[(0,r.jsx)("h3",{children:"Total Fleet"}),(0,r.jsx)("h2",{children:n})]})})})]}),(0,r.jsxs)("div",{className:"card shadow--md margin-bottom--lg",children:[(0,r.jsx)("div",{className:"card__header",children:(0,r.jsx)("h3",{children:"\ud83d\uddfa\ufe0f Live Map"})}),(0,r.jsx)("div",{className:"card__body",style:{height:"300px",background:"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)("p",{children:"Google Maps Integration (Waiting for API Key)"})})]}),(0,r.jsxs)("div",{className:"card shadow--md",children:[(0,r.jsx)("div",{className:"card__header",children:(0,r.jsx)("h3",{children:"\ud83d\udccb Fleet List"})}),(0,r.jsx)("div",{className:"card__body",children:a?(0,r.jsx)("p",{children:"Loading fleet data..."}):(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Plate"}),(0,r.jsx)("th",{children:"Model"}),(0,r.jsx)("th",{children:"Status"}),(0,r.jsx)("th",{children:"Last Updated"})]})}),(0,r.jsx)("tbody",{children:e.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:e.plate})}),(0,r.jsx)("td",{children:e.model}),(0,r.jsx)("td",{children:(0,r.jsx)("span",{className:"badge badge--"+("available"===e.status?"success":"rented"===e.status?"warning":"danger"),children:e.status.toUpperCase()})}),(0,r.jsx)("td",{children:new Date(e.last_updated).toLocaleString()})]},e.id))})]})})]})]})})}}}]);